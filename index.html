<!doctype html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="resources/css/main.css">
	</head>
	<body>
		<div id="recordingmessage">
			<div id="recordingmessagewrapper">
				<div class="paragraph">La vidéo est en cours d'enregistrement, NE QUITTEZ PAS LA PAGE !</div>
				<div id="recordingpercentage">0%</div>
				<button class="inputtype2" onclick="stoppreview();">Annuler l'enregistrement</button>
			</div>
		</div>
		<textarea id="savepresettextarea"></textarea>
		<div id="sidebar">
			<div class="heading">Charger un thème</div>
				<select onchange="onchangeloadpreset();" id="loadpreset" class="inputtype2">
					<option value="none">aucun</option>
					<option value="greenbubbles">Le Parisien fond blanc</option>
					<option value="hypnotictriangles">Le parisien Podcast</option>
				</select>
			<span id="loadpresetfromfilewrapper">
				<input onchange="loadpresetfromfile(this);" class="inputtype2" type="file" id="loadpresetfromfile" accept="*" />
			</span>
			<div class="heading">Enregistrer le thème</div>
				<button class="inputtype2" onclick="savepreset();">Enregistrer le thème</button>
			<div class="heading">Zoom</div>
				<div class="inputtype1">
					<div class="inputspacer1">Zoom (%):</div>
					<input onchange="zoom();" class="inputspacer2" type="number" id="zoom" value="100">
				</div>
			<div class="heading">Sortie Video</div>
				<div class="inputtype1">
					<div class="inputspacer1">largeur:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="videowidth" value="640">
				</div>
				<div class="inputtype1">
					<div class="inputspacer1">hauteur:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="videoheight" value="360">
				</div>
				<div class="inputtype1">
					<div class="inputspacer1">Max FPS:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="videomaxfps" value="">
				</div>
			<div class="heading">Couleur de fond</div>
				<input onchange="onchangeoptions();" class="inputtype2" type="color" id="backgroundcolor" value="#FFFFFF">
			<form id="backgroundimageform">
				<div class="heading">Image de fond</div>
					<input onchange="onchangebackgroundimage(this);" class="inputtype2" type="file" id="backgroundimage" accept="image/*" />
			</form>
				<button class="inputtype2" id="clearbackgroundimagebutton" onclick="clearbackgroundimage();">Clear Background Image</button>
				<div style="display:none"><form id="foregroundimageform">
				<div class="heading">Foreground Image</div>
					<input onchange="onchangeforegroundimage(this);" class="inputtype2" type="file" id="foregroundimage" accept="image/*" />
			</form></div>
				<div class="inputtype1" id="foregroundpositiontopwrapper">
					<div class="inputspacer1">Position Top:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="foregroundpositiontop" value="0">
				</div>
				<div class="inputtype1" id="foregroundpositionleftwrapper">
					<div class="inputspacer1">Position gauche:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="foregroundpositionleft" value="0">
				</div>
				<div style="display:none">button class="inputtype2" id="clearforegroundimagebutton" onclick="clearforegroundimage();">Clear Foreground Image</button></div>
			<div class="heading">Son</div>
				<input onchange="onchangeaudio(this);" class="inputtype2" type="file" id="inputaudio" accept="audio/*" />
			<div class="heading">Visualisation :</div>
				<select onchange="hideunusedoptions();" id="visualizertype" class="inputtype2">
					<option value="none">None</option>
					<option value="verticalbars" selected="selected">Vertical Bars</option>
					<option value="blockbars">Block Bars</option>
					<option value="timedomainline">Time Domain Line</option>
					<option value="3dbars">3D Bars</option>
					<option value="stretchycircle">Stretchy Circle</option>
					
					<option value="timedomainsquares">Time Domain Squares</option>
					<option value="spinningtriangles">Spinning Triangles</option>
					<option value="bubbles">Bubbles</option>
					<option value="internetgb">InternetGB</option>
				</select>
			<span id="visualizerbarsalignmentwrapper">
				<div class="heading">Aligner les barres sur</div>
					<select onchange="onchangeoptions();" id="visualizerbarsalignment" class="inputtype2">
						<option value="bottom">le bas</option>
						<option value="middle">le milieu</option>
						<option value="top">le haut</option>
					</select>
			</span>
			<span id="visualizerlinecapwrapper">
				<div class="heading">Bord des barres</div>
					<select onchange="onchangeoptions();" id="visualizerlinecap" class="inputtype2">
						<option value="square">Plat</option>
						<option value="round">Arrondi</option>
					</select>
			</span>
			<span id="visualizercompositemodewrapper">
				<div class="heading">Composite Mode</div>
					<select onchange="onchangeoptions();" id="visualizercompositemode" class="inputtype2">
						<option value="none">None</option>
						<option value="lighter">Lighter</option>
						<option value="darken">Darken</option>
						<option value="xor">Xor</option>
						<option value="multiply">Multiply</option>
						<option value="screen">Screen</option>
						<option value="color-dodge">Color-Dodge</option>
						<option value="color-burn">Color-Burn</option>
						<option value="soft-light">Soft-Light</option>
						<option value="hue">Hue</option>
						<option value="saturation">Saturation</option>
						<option value="color">Color</option>
						<option value="luminosity">Luminosity</option>
					</select>
			</span>
			<span id="visualizershapewrapper">
				<div class="heading">Alignement des barres</div>
					<select onchange="hideunusedoptions();" id="visualizershape" class="inputtype2">
						<option value="none">horizontal</option>
						<option value="circle">Cercle</option>
					</select>
					<div style="display:none"><div class="inputtype1">
					<div class="inputspacer1">Shape Size:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizershapesize" value="100">
				</div></div>
			</span>
			<div class="heading">Autres Options</div>
				<div class="inputtype1" id="visualizerhowmanywrapper">
					<div class="inputspacer1">Nombre de barres:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerhowmany" value="75">
				</div>
				<div class="inputtype1" id="maxvisualizerheightwrapper">
					<div class="inputspacer1">hauteur max:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="maxvisualizerheight" value="150">
				</div>
				<div class="inputtype1" id="minvisualizerheightwrapper">
					<div class="inputspacer1">Hauteur min:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="minvisualizerheight" value="10">
				</div>
				<div class="inputtype1" id="visualizerwidthwrapper">
					<div class="inputspacer1">largeur:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerwidth" value="6">
				</div>
				<div class="inputtype1" id="visualizerdepthwrapper">
					<div class="inputspacer1">profondeur:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerdepth" value="10">
				</div>
				<div style="display:none">
						<div class="inputtype1" id="visualizeranglewrapper">
						<div class="inputspacer1">Angle:</div>
						<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerangle" step="0.1" value="2">
					</div>
					<div class="inputtype1" id="visualizerminrotationspeedwrapper">
						<div class="inputspacer1">Min Rotation Speed:</div>
						<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerminrotationspeed" min="0" max="360" value="10">
					</div>
					<div class="inputtype1" id="visualizermaxrotationspeedwrapper">
						<div class="inputspacer1">Max Rotation Speed:</div>
						<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizermaxrotationspeed" min="0" max="360" value="30">
					</div>
					<div class="inputtype1" id="visualizerspacingwrapper">
						<div class="inputspacer1">Spacing:</div>
						<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerspacing" value="2">
					</div>
					<div class="inputtype1" id="visualizerspacing2wrapper">
						<div class="inputspacer1">Spacing 2:</div>
						<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerspacing2" value="4">
					</div>
				</div>
				<div class="inputtype1">
					<div class="inputspacer1">Position haut:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizertop" value="170">
				</div>
				<div class="inputtype1">
					<div class="inputspacer1">Position gauche:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerleft" value="0">
				</div>
				<div class="inputtype1">
					<div class="inputspacer1">Rotation:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizerrotation" value="0">
				</div>
				<div class="inputtype1" id="visualizeroffsetwrapper">
					<div class="inputspacer1">décalage:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizeroffset" value="0">
				</div>
				<div style="display:none"><div class="inputtype1" id="visualizercutoffwrapper">
					<div class="inputspacer1">Cutoff:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="visualizercutoff" value="35">
				</div>
				<div class="inputtype1" id="visualizermultiplierwrapper">
					<div class="inputspacer1">Multiplier:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" step="0.1" id="visualizermultiplier" value="1.2">
				</div>
				<div class="inputtype1" id="minfrequencywrapper">
					<div class="inputspacer1">Min Frequency:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" step="0.1" id="minfrequency" value="0">
				</div>
				<div class="inputtype1" id="maxfrequencywrapper">
					<div class="inputspacer1">Max Frequency:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="maxfrequency" value="160">
				</div></div>
				<div class="heading">Remplissage</div>
					<select onchange="hideunusedoptions();" id="filltype" class="inputtype2">
						<option value="none">None</option>
						<option value="solid" selected="selected">plein</option>
						<option value="verticalgradient">Dégradé vertical</option>
						<option value="horizontalgradient">Dégradé Horizontal</option>
						<option value="image">Image</option>
					</select>
				<span id="visualizerfill1wrapper">
					<div class="heading3">Couleur #1:</div>
					<input onchange="onchangeoptions();" class="inputtype2" type="color" id="visualizerfill1" value="#0F82B3">
				</span>
				<span id="visualizerfill2wrapper">
					<div class="heading3">Couleur #2:</div>
					<input onchange="onchangeoptions();" class="inputtype2" type="color" id="visualizerfill2" value="#000000">
				</span>
				<span id="visualizerfillimagewrapper">
					<div class="heading3">Image:</div>
					<input onchange="onchangefillimage(this);" class="inputtype2" type="file" id="fillimage" accept="image/*" />
				</span>
				<div class="inputtype1">
					<div class="inputspacer1">Opacité:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" step="0.01" min="0" max="1" id="fillopacity" value="1.0">
				</div>
				<div class="heading">Type de bordure</div>
					<select onchange="hideunusedoptions();" id="outlinetype" class="inputtype2">
						<option value="none">aucune</option>
						<option value="solid">pleine</option>
						<option value="verticalgradient">Dégradé vertical</option>
						<option value="horizontalgradient">dégradé horizontal</option>
						<option value="image">Image</option>
					</select>
				<span id="outlinecolor1wrapper">
					<div class="heading3">Couleur de bordure #1:</div>
					<input onchange="onchangeoptions();" class="inputtype2" type="color" id="outlinecolor1" value="#000000">
				</span>
				<span id="outlinecolor2wrapper">
					<div class="heading3">Couleur de bordure #2:</div>
					<input onchange="onchangeoptions();" class="inputtype2" type="color" id="outlinecolor2" value="#000000">
				</span>
				<span id="outlineimagewrapper">
					<div class="heading3">Image:</div>
					<input onchange="onchangeoutlineimage(this);" class="inputtype2" type="file" id="outlineimage" accept="image/*" />
				</span>
				<div class="inputtype1">
					<div class="inputspacer1">Largeur de bordure:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" id="outlinewidth" value="5">
				</div>
				<div class="inputtype1">
					<div class="inputspacer1">Opacité de bordure:</div>
					<input onchange="onchangeoptions();" class="inputspacer2" type="number" step="0.01" min="0" max="1" id="outlineopacity" value="1.0">
				</div>
				<div class="heading">Format vidéo de sortie</div>
					<select id="videofileformat" class="inputtype2">
					</select>
				<div class="heading3">Inclure l'audio:<input onchange="includeaudiowarning();" type="checkbox" id="recordaudio" value="recordaudio" checked></div>
				<button class="inputtype2" onclick="startvisualizer('recording');">Commencer l'enregistrement</button>
				<button class="inputtype2" onclick="startvisualizer();">Prévisualiser</button>
				<button class="inputtype2" onclick="stoppreview();">Stop prévisualisation</button>
		</div>
		<div id="workarea">
			<canvas id="visualizer" width="640" height="360">Your browser does not support the canvas element. Please use a different browser.</canvas>
			<input onchange="onchangevisualizerseekbar();" type="range" id="visualizerseekbar" value="0">
			<canvas id="cachedbgimg" width="640" height="360"></canvas>
			<canvas id="cachedfgimg" width="640" height="360"></canvas>
		</div>
		<img id="bgimg" src="resources/img/blank.png">
		<img id="fgimg" src="resources/img/blank.png">
		<img id="fillimg" src="resources/img/blank.png">
		<img id="outlineimg" src="resources/img/blank.png">
		<img id="blankimg" src="resources/img/blank.png">
		<script src="resources/js/visualizertypes.js"></script>
		<script src="resources/js/main.js"></script>
		<script src="resources/js/filesaver.js"></script>
		<script>initialize();</script>
	</body>
</html>
